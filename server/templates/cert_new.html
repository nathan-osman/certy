{% extends "templates/form.html" %}

{% block title %}New Certificate{% endblock %}

{% block header %}
<div class="title">New Certificate</div>
<div class="desc">
  Create a new
  {% if cert %}
    certificate signed by {{ cert.X509.Subject.CommonName }}
  {% else %}
    root certificate
  {% endif %}
</div>
{% endblock %}

{% block fields %}
{% import 'templates/macros/form.html' checkbox, domains, duration, input %}
{% if cert %}
  {% set placeholder = "e.g. Intermediate CA, www.example.com" %}
{% else %}
  {% set placeholder = "e.g. John Smith's Root CA" %}
{% endif %}
<div class="double">
  {{ input(form, "CommonName", "Common name", placeholder, true) }}
  {{ input(form, "Organization", "Organization", "e.g. Your Name or MyCompany Ltd.") }}
</div>
{{ duration(form, "Validity", "Validity") }}
<div>
  <div class="title">Constraints / Usage</div>
  {{ checkbox(form, "CanSign", "Can sign certificates (Certificate Authority)") }}
  {{ checkbox(form, "ClientAuth", "Client auth")}}
  {{ checkbox(form, "ServerAuth", "Server auth")}}
</div>
<div>
  <div class="title">Extensions</div>
  {{ domains(form, "SANs", "SANs (Subject Alternative Names)") }}
</div>
{% endblock %}
